spring.application.name=office-tools
server.port=8081

# Spring MVC File Upload Settings
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=20MB
spring.servlet.multipart.max-request-size=20MB

# Actuator Configuration (Health Checks for Docker)
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always
management.health.defaults.enabled=true

# Cloudflare R2 Configuration
# R2 API 端点（从 Cloudflare R2 控制台获取）
r2.endpoint=https://bebfa6eb501bc93a1bfe09e410156b18.r2.cloudflarestorage.com
# R2 存储桶名称
r2.bucket-name=file-temp
# R2 Access Key ID（从 Cloudflare R2 控制台创建 API Token 获取）
r2.access-key-id=b4509c822ceee62a8384b38e0e7a12e6
# R2 Secret Access Key（从 Cloudflare R2 控制台创建 API Token 获取）
r2.secret-access-key=6d66eccce9f9235d1dd8dbe2bb03fa60a72853b2510b548ebf92ae9c7c0ecc7b
# 公共域名（可选，如果配置了自定义域名则填写）
r2.public-domain=

# ================================
# 文档转换配置
# ================================

# 异步任务线程池配置（保守配置）
conversion.task.core-pool-size=2
conversion.task.max-pool-size=5
conversion.task.queue-capacity=50

# 临时文件配置
conversion.temp-file.expire-minutes=30
conversion.temp-file.max-memory-mb=500
conversion.temp-file.max-count=100

# 文件清理配置（1 小时后清理）
conversion.file.cleanup.enabled=true
conversion.file.cleanup.expire-hours=1
conversion.file.cleanup.cron=0 0 * * * ?

# 文件大小限制
conversion.file.max-size=20MB
conversion.file.max-size-bytes=20971520
conversion.file.max-count=20

# ================================
# CORS 跨域配置
# ================================
# 是否允许所有域名访问（开发环境设为 true，生产环境必须设为 false）
app.cors.allow-all-origins=true

# 允许访问的前端域名（当 allow-all-origins=false 时生效）
# 开发环境：添加你的前端地址，如 Vue(3000)、React(3000)、Vite(5173) 等
# 生产环境：替换为实际的线上域名
app.cors.allowed-origins=http://localhost:3000,http://localhost:8080,http://localhost:8081

# 其他 CORS 配置
app.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
app.cors.allowed-headers=*
app.cors.allow-credentials=true
app.cors.max-age=3600
